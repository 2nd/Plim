doctype 5
html
    head
        title Page Title

    body.l-960
        python
            comments_enabled = True

        .section
            H2.caption: a href="#" New Mako Template Preprocessor
            article
                | The new Mako template preprocessor has been released today.
            if comments_enabled
                a.comments(href="#") View comments


## Mako syntax
this is x: ${x}
pythagorean theorem:  ${pow(x,2) + pow(y,2)}
${"this is some text" | u}

% if x==5:
    this is some output
% endif

% for a in ['one', 'two', 'three', 'four', 'five']:
    % if a[0] == 't':
     its two or three
    % elif a[0] == 'f':
    four/five
    % else:
    one
    %endif
% endfor

%% some text

    %% some more text


<ul>
% for a in ("one", "two", "three"):
    <li>Item ${loop.index}: ${a}</li>
% endfor
</ul>


<%doc>
    these are comments
    more comments
</%doc>


here is a line that goes onto \
another line.


this is a template
<%
    x = db.get_resource('foo')
    y = [z.element for z in x if x.frobnizzle==5]
%>
% for elem in y:
    element: ${elem}
% endfor


<%!
    import mylib
    import re

    def filter(text):
        return re.sub(r'^@', '', text)
%>


<%include file="foo.txt"/>
<%include file="/foo/bar/${myfile}.txt"/>

<%def name="foo" buffered="True">
    this is a def
</%def>


